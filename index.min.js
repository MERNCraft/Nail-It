const a=require("readline-sync"),b="Let's knock a nail into this computer!\n\n* Each player takes a turn to hit the nail once.\n* A player can use one of three levels of strength: gently, firmly, hard.\n* Depending on the strength used, the nail will be more or less deeply into the Terminal.\n* The player who knocks the nail all the way in is the winner.\n\nAre you ready?\n",c="If you want to start, type Y. If you want me to start press any other key. ",d="The nail is ",f=" units long.",g="\nDo you want to play again? (Type Y for Yes)",h="Your turn. How hard do you plan to hit?",i=["gently","firmly","hard"],j=" hit the nail ",k="Thanks for a good game!";let l,n,o,p,q,r=!0,s=0,t=11;console.log(b);let u=a.keyInYN(c),v=!u;for(;r;){for(p=12+Math.floor(4*Math.random()),q=p,l=d+q+f,o=!1;q>0;)n=o?"=".repeat(q-1)+"<|":"-"+"=".repeat(q-2)+"<|",w="[1A[K".repeat(t),console.log(w),console.log(n,l),u?(s=a.keyInSelect(i,h),s<0&&(console.log(k),process.exit()),l=" ".repeat(p-q+s)+"You"+j+i[s]+".",s+=1,t=7):(q<4?s=q:(s=q%4,s||(s=Math.floor(3*Math.random())+1)),l=" ".repeat(p-q+s-1)+"I"+j+i[s-1]+".",t=0),0===s&&(console.log(k),process.exit()),q-=s,u=!u,o=!0;const e=u?"I":"You";u||(w="[1A[K".repeat(7),console.log(w)),l=u?"\n":"",l+="|"+" ".repeat(p)+e+j+i[s-1]+".\n",console.log(l),console.log(e+" win!"),u=v,v=!v,t=22,r=a.keyInYN(g),r||console.log(k)}